#include <iostream>
#include <iomanip>
#include <cstdio>
#include <string.h>
#include<stdlib.h>

using namespace std;

// structure to store customer info
struct address{
string  phone_number;
char city[20];
char town[20];
char email[40];


};

struct customer_info{

char fullname[30];
int ID;
int age;
char gender;
bool available;
address cust_address;
}customer[100]={{"samuel noah",1,23,'M',true,"Wolayta","Bodity","samuelnoah66@gmail"},// initialized data are sample the will store on other device latter
                {"selamu dawit",2,23,'M',true,"Wolayta","Bodity","selamudaw@gmail"},
                 {"yordanos yadessa",3,23,'F',true,"AA","jemo","yordanosyades@gmail"},
                 {"yohannis mendistu",4,23,'M',true,"AA","jemo","yohannismendi@gmail"},
                 {"zekarias  tesfaye",5,23,'M',true,"AA","jemo","zekariastesfa@gmail"}




};
//structure to store carsal car info
struct car_info{

char brand[20];
char model[20];
char colour[20];
char max_speed[10];
char plate_num[10];
float rate_per_hour;
float rate_per_day;
int category_code;
bool available;
int car_id;
string rented;
}cars[100]={{"none","none","ne","none","none",0000,000,0,false,0},
            {"Hyundai","2016MD","black","100km/hr","ET20012",150,3000,1,false,1},// this  data are sample! latter we will
                                                                        // store them on external storage
             {"BMW","2010QW","yellow","150km/hr","ET20012",300,6000,2,true,2},
             {"Audi","2018DS","Blue","120km/hr","ET20012",100,2000,1,true,3},
             {"Tesla","2017LA","Red","110km/hr","ET20012",200,3400,2,true,4},
             {"Skoda","2018OW","Brown","100km/hr","ET20012",300,5800,3,true,5},
             {"Volswag","2005Ps","Silver","140km/hr","ET20012",120,2000,2,true,6},
             {"Toyota","2008PW","Black","150km/hr","ET20012",140,3000,1,true,7},
             {"Ford","2016SA","grey","130km/hr","ET20012",240,3000,1,true,8},
               {"Merc","2018AS","Red","180km/hr","ET20012",140,2800,3,true,9}
};

void menu();
void toTerminateOrContinue();
void  password();
void cust_record(customer_info customer[]);
void car_sample(car_info cars[]);
void availble_cars(car_info cars[]);
int car_count(car_info cars[]);
void add_cars(car_info cars[]);
void delete_car(car_info cars[]);
int main()
{

  menu();
//password();


    return 0;
}

void toTerminateOrContinue(){
char toContinue;
cout<<endl<<endl<<endl<<"press any key to continue\n press 0 to  exit ";

cin>>toContinue;
system("cls");
if(toContinue!='0')
 	menu();
 	else
exit(0);

}
//function to check the user password in correct or not
void  password(){
    int trial=0;
    string username,pass;
     string passwords="kindness4all";
     string name="GROUP1";//we have to use string compare
     c:

    cout<<"\n\n\n\n\n\n\n\n\n\n";

   cout<<"\t\t\t\t\t\tusername:";
   cin>>username;
  cout<<"\t\t\t\t\t\tpasssword:";
    cin>>pass;

   if(passwords==pass&&username==name){
 	system("cls");
        menu();}
   else{
    system("cls");
    cout<<"\n\n\n\n\n\n";
   cout<<"\t\t\t\t\t\tincorrect password or user name please try again\n\n\n ";
   trial++;
if (trial==4){
cout<<"many trial good bye";
 exit(0);
}

else{
goto c;
}
   }

}


// function to display menu to user
void menu()
{cout<<setw(50)<<"========================================================================================================================"<<endl;
cout<<setw(70)<<" WELCOME TO KINDNESS CAR RENTAL "<<endl;
cout<<setw(50)<<"========================================================================================================================"<<endl;

	int choice;
	cout<<"\n\n\n\n";
	cout << endl;


	cout<<"\n\t  \t\t\t\t\t  1. CUSTOMER SERVICE";
	cout<<"\n\t  \t\t\t\t\t  2. ADD CAR";
    cout<<"\n\t  \t\t\t\t\t  3. SHOW CAR DATA";
    cout<<"\n\t  \t\t\t\t\t  4. SHOW CUSTOMER DATA";
	cout<<"\n\t  \t\t\t\t\t  5. DELETE CAR";
	cout<<"\n\t  \t\t\t\t\t  6. RESET AVAILABLE CAR";
	cout<<"\n\t  \t\t\t\t\t  7. LOG OFF"<<endl<<"\n";
	cout<<"\t    \t\t\t\t\tINPUT   :";
	cin>>choice;



system("cls");
switch(choice){
case 1:
    cust_record(customer);
break;
case 2:
 add_cars(cars);
break;
case 3:
availble_cars(cars);
toTerminateOrContinue();

break;
case 4:
    //newUserPass();
break;
case 5:
     delete_car(cars);
break;
case 6:
    exit(0);
break;


}}


// function to record new customer;
void cust_record(customer_info customer[]){
int choice;
cout<<setw(50)<<"========================================================================================================================"<<endl;
cout<<setw(70)<<" CUSTOMER REGISTREATION PAGE"<<endl;
cout<<setw(50)<<"========================================================================================================================"<<endl;

 cout<<"\n\n\n\n\n";
cout<<"\t\t\t\t 1. NEW CUSTOMER \n\t\t\t\t 2. AVAILABLE \n\n";
cout<<setw(40)<<"INPUT:";
cin>>choice;
if(choice==1){
    int i=choice;
   customer[i].available=true;
    cin.ignore();
    cout<<"\t\t\t\tFull Name"<<setw(5)<<":";
    gets(customer[i].fullname);
    cout<<"\t\t\t\tID       "<<setw(5)<<":";
    cin>>customer[i].ID;
    cout<<"\t\t\t\tAge      "<<setw(5)<<":";
    cin>>customer[i].age;
    cout<<"\t\t\t\tGender   "<<setw(5)<<":";
    cin>>customer[i].gender;
    cout<<"\t\t\t\tphone num"<<setw(5)<<":";
    cin>>customer[i].cust_address.phone_number;
    cout<<"\t\t\t\tCity     "<<setw(5)<<":";
    cin.ignore();
    gets(customer[i].cust_address.city);
    cout<<"\t\t\t\tTown      "<<setw(5)<<":";
    cin.ignore();
    gets(customer[i].cust_address.town);
    cout<<"\t\t\t\tEmail    "<<setw(5)<<":";
    cin>>customer[i].cust_address.email;
    cout<<"\n\n\n\n\n\n:";
cout<<setw(70)<<"registered successfully"<<endl;

}}
//count avaliable cars;
int car_count(car_info cars[]){
int numberofcars=0;
    for(int i=0;i<100;i++){
if(cars[i].available==true||cars[i].car_id!=0)
    numberofcars++;

    }
cout<<numberofcars;
return numberofcars;
}

int cust_count(customer_info customer[]){
int numberofcust=0;
    for(int i=0;i<100;i++){
if(customer[i].available==true||customer[i].available==false)
    numberofcust++;

    }

return numberofcust;
}

void availble_cars(car_info cars[])
{


	int choice;
	cout<<"\n\n";

	cout << endl;

	cout << "     Plate Number\t Brand\t      Model\t  max speed         Color   Rate Per Hour     Rate Per 24 Hour   car ID  " << endl;
	cout << "     ================================================================================================================" << endl;
	int counted=car_count(cars);
	for (int i = 0; i <100; i++)
	{   if(cars[i].available==true){
		cout << "     " << cars[i].plate_num << "\t        " << cars[i].brand << "\t     " << cars[i].model << "\t   " << cars[i].max_speed << "\t     "
			 << cars[i].colour << "\t  " <<cars[i].rate_per_hour << "\t\t    "  << cars[i].rate_per_day<< "\t    "<<cars[i].category_code << "\t\t       "<< endl;
	}}
	cout << "\n\n";

	cout<<"\n\t  \t\t\t\t\t" ;








}

void add_cars(car_info cars[]){
int counted=car_count(cars)+1;
int i=counted;
cout<<setw(50)<<"========================================================================================================================"<<endl;
cout<<setw(70)<<" NEW CAR RECORD PAGE"<<endl;
cout<<setw(50)<<"========================================================================================================================\n\n\n\n" << endl;
cout<<setw(50)<<"Plate Number:";
cin>> cars[i].plate_num;
cout<<setw(50)<<"Brand:";
cin>>cars[i].brand;
cout<<setw(50)<<"Model:";
cin>>cars[i].model;
cout<<setw(50)<<"max speed:";
cin>>cars[i].max_speed;
cout<<setw(50)<<"Color:";
cin>>cars[i].colour;
cout<<setw(50)<<"Rate Per Hour:";
cin>>cars[i].rate_per_hour;
cout<<setw(50)<<"Rate Per day :";
cin>>cars[i].rate_per_day;
cout<<setw(50)<<"category";
cin>>cars[i].category_code;
cars[i].car_id=i;
cars[i].available=true;
toTerminateOrContinue();

}
void delete_car(car_info cars[]){
int id,choice;
cout<<setw(50)<<"========================================================================================================================"<<endl;
cout<<setw(70)<<" DELETE CAR RECORD PAGE"<<endl;
cout<<setw(50)<<"========================================================================================================================\n\n\n\n" << endl;
cout<<"\n\n";
availble_cars(cars);

cout<<"\n\n\n";
	cout <<setw(30)<<" car ID:";
	cin>>id;
cout<<setw(30)<<"Do you want to delete "<<"car  brand :"<<cars[id].brand <<" model :"<<cars[id].model<<"?\n\n"<<endl;
cout<<setw(30)<<"1.yes      2.no\t";
cout<<setw(30)<<"INPUT:";
cin>>choice;
if(choice==1){
cars[id].available=false;

}

toTerminateOrContinue();


}

void rented_car(car_info cars[]){




}
